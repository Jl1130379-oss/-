<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ±Ÿå®¶æ™ºæ…§åŸå¸‚ï¼šå…¨èƒ½æ•™è‚²å¹³å°</title>
    <style>
        :root { --sci: #22d3ee; --art: #fb7185; --gold: #facc15; --bg: #020617; }
        * { box-sizing: border-box; font-family: "PingFang TC", sans-serif; transition: 0.4s; }
        body { margin: 0; background: var(--bg); color: white; height: 100vh; overflow: hidden; display: flex; flex-direction: column; }
        
        /* é é¢åˆ‡æ›æ§åˆ¶ */
        .page { display: none; height: 100vh; flex-direction: column; }
        .page.active { display: flex; }

        /* ç™»å…¥ä¸»ç•«é¢æ¨£å¼ */
        #page-welcome { justify-content: center; align-items: center; background: radial-gradient(circle, #1e293b 0%, #020617 100%); }
        .welcome-card { background: rgba(255,255,255,0.05); backdrop-filter: blur(15px); padding: 40px; border-radius: 30px; border: 1px solid rgba(255,255,255,0.1); text-align: center; width: 350px; }
        
        /* é ‚éƒ¨å°èˆª */
        header { padding: 15px 20px; background: rgba(15,23,42,0.95); border-bottom: 2px solid var(--sci); display: flex; justify-content: space-between; align-items: center; }

        /* å…§å®¹å€ */
        main { flex: 1; display: flex; flex-direction: column; align-items: center; padding: 20px; overflow-y: auto; }
        .teacher-box { width: 220px; height: 300px; margin-bottom: 20px; }
        .teacher-img { width: 100%; height: 100%; object-fit: contain; }

        /* ç­”é¡Œå½ˆçª—æ¨£å¼ (ä¿®æ­£ä½ æˆªåœ–ä¸­çš„è¦–è¦º) */
        .quiz-container { background: white; color: #1e293b; padding: 30px; border-radius: 30px; width: 100%; max-width: 500px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .timer-bar-bg { height: 6px; background: #e2e8f0; border-radius: 3px; margin: 15px 0; overflow: hidden; }
        #timer-fill { height: 100%; width: 100%; background: var(--sci); transition: linear; }
        .opt-btn { width: 100%; padding: 15px; margin: 8px 0; border: 2px solid #e2e8f0; border-radius: 15px; background: #f8fafc; font-weight: bold; cursor: pointer; text-align: left; font-size: 1rem; color: #3b82f6; }
        .opt-btn:hover { border-color: var(--sci); background: #f0f9ff; }

        /* åº•éƒ¨æŒ‰éˆ• */
        nav { height: 70px; background: #0f172a; display: flex; justify-content: space-around; align-items: center; border-top: 1px solid rgba(255,255,255,0.2); }
        .nav-btn { background: none; border: none; color: #94a3b8; cursor: pointer; font-size: 0.9rem; font-weight: bold; }
        
        .secret-snow { position: fixed; bottom: 85px; right: 20px; opacity: 0.3; cursor: pointer; font-size: 24px; }
    </style>
</head>
<body>

<div id="page-welcome" class="page active">
    <div class="welcome-card">
        <h1 style="color:var(--sci); margin-bottom:10px;">æ±Ÿå®¶æ™ºæ…§åŸå¸‚</h1>
        <p style="font-size:0.8rem; color:#94a3b8; margin-bottom:30px;">å…¨èƒ½æ•™è‚²å¹³å° Â· å°å¸«æ•™å®¤ç³»çµ±</p>
        <input type="text" id="user-name" placeholder="è¼¸å…¥å­¸å“¡å§“å" style="width:100%; padding:12px; margin-bottom:20px; border-radius:10px; border:none; text-align:center;">
        <button class="opt-btn" style="text-align:center; background:var(--sci); color:white; border:none;" onclick="enterSystem()">é€²å…¥æ•™å®¤</button>
    </div>
</div>

<div id="page-app" class="page">
    <header>
        <div>
            <div id="admin-tag" style="font-size:0.7rem; color:var(--gold); display:none;">ğŸ‘‘ æ¦®è­½ç®¡ç†å“¡ï¼šæ±Ÿæ†¶å©·</div>
            <div id="teacher-title" style="font-weight:900;">æ±Ÿéˆ´ï¼šé†«å­¸ç†ç§‘ç³»çµ±</div>
        </div>
        <div style="text-align:right">
            <div style="font-weight:bold;"><span id="coin-icon">ğŸª™</span> <span id="coin-count">500</span></div>
            <div id="timer-text" style="font-family:monospace; font-size:0.8rem; color:var(--sci);">REMAINING: 180s</div>
        </div>
    </header>

    <main>
        <div class="teacher-box">
            <img id="teacher-img" class="teacher-img" src="IMG_3812.jpeg">
        </div>

        <div id="quiz-module" class="quiz-container">
            <div style="display:flex; justify-content:space-between; font-size:0.8rem; color:#64748b; font-weight:bold;">
                <span id="q-progress">é—œå¡ 1 - ç¬¬ 1 é¡Œ</span>
                <span id="q-reward">çå‹µ: +20</span>
            </div>
            <div class="timer-bar-bg"><div id="timer-fill"></div></div>
            <div id="q-text" style="font-weight:bold; margin:20px 0; font-size:1.1rem; line-height:1.5;">æ­£åœ¨ç‚ºæ‚¨æº–å‚™ä»Šæ—¥èª²é¡Œ...</div>
            <div id="q-options"></div>
        </div>
    </main>

    <div class="secret-snow" onclick="handleAdmin()">â„ï¸</div>
    <nav>
        <button class="nav-btn" onclick="location.reload()">ğŸšª ç™»å‡ºç³»çµ±</button>
        <button class="nav-btn" style="color:var(--sci)">ğŸ“š èª²ç¨‹ç­”é¡Œ</button>
    </nav>
</div>

<script>
    // é¡Œåº«è¨­è¨ˆ
    const questionBank = {
        sci: [
            { q: "åœ¨äººé«”è§£å‰–å­¸ä¸­ï¼Œå¿ƒè‡Ÿä¸»è¦ä½æ–¼èƒ¸è…”çš„å“ªå€‹ä½ç½®ï¼Ÿ", options: ["åå·¦å´ (æ­£ç¢º)", "æ­£ä¸­å¤®", "åå³å´"], reward: 20 },
            { q: "é†«å­¸ä¸Šå¸¸èªªçš„ã€ŒBPã€ä»£è¡¨ä»€éº¼ç”Ÿç†æ•¸å€¼ï¼Ÿ", options: ["è¡€å£“ (æ­£ç¢º)", "è¡€ç³–", "å¿ƒç‡"], reward: 20 }
        ],
        admin_sci: [
            { q: "ã€ç®¡ç†å“¡å°ˆé¡Œã€‘é—œæ–¼äººé«”å¾ªç’°ç³»çµ±ï¼Œå·¦å¿ƒå®¤çš„ä¸»è¦åŠŸèƒ½ç‚ºä½•ï¼Ÿ", options: ["å°‡è¡€æ¶²æ³µå‘å…¨èº« (æ­£ç¢º)", "æ¥æ”¶è‚ºéƒ¨å›æµè¡€æ¶²", "å„²å­˜éœè„ˆè¡€æ¶²"], reward: 50 },
            { q: "ã€ç®¡ç†å“¡å°ˆé¡Œã€‘åœ¨è—¥ç‰©å‹•åŠ›å­¸ä¸­ï¼Œé¦–é—œæ•ˆæ‡‰ä¸»è¦ç™¼ç”Ÿæ–¼å“ªå€‹å™¨å®˜ï¼Ÿ", options: ["è‚è‡Ÿ (æ­£ç¢º)", "è…è‡Ÿ", "èƒƒéƒ¨"], reward: 50 }
        ]
    };

    let state = {
        coins: 500, isAdmin: false, timer: 180, currentQ: 0
    };

    function enterSystem() {
        const name = document.getElementById('user-name').value;
        if(!name) return alert("è«‹è¼¸å…¥å­¸å“¡å§“å");
        document.getElementById('page-welcome').classList.remove('active');
        document.getElementById('page-app').classList.add('active');
        startTimer();
        loadQuestion();
    }

    function handleAdmin() {
        const key = prompt("è«‹è¼¸å…¥ç®¡ç†è€…ä»£ç¢¼ï¼š");
        if(key === "æ±Ÿæ†¶å©·") {
            state.isAdmin = true;
            document.getElementById('admin-tag').style.display = 'block';
            document.getElementById('coin-icon').innerText = "â„ï¸";
            state.currentQ = 0; // é‡ç½®é¡Œç›®ç‚ºç®¡ç†å“¡é›£åº¦
            loadQuestion();
            alert("ğŸ‘‘ æ¬Šé™è§£é–ï¼šæ­¡è¿æ±Ÿæ†¶å©·ç®¡ç†è€…ã€‚é›£åº¦å·²è‡ªå‹•èª¿æ•´ã€‚");
        }
    }

    function loadQuestion() {
        const pool = state.isAdmin ? questionBank.admin_sci : questionBank.sci;
        const qData = pool[state.currentQ % pool.length];
        
        document.getElementById('q-text').innerText = qData.q;
        document.getElementById('q-progress').innerText = `é—œå¡ 1 - ç¬¬ ${state.currentQ + 1} é¡Œ`;
        document.getElementById('q-reward').innerText = `çå‹µ: +${qData.reward}`;
        
        const optBox = document.getElementById('q-options');
        optBox.innerHTML = "";
        qData.options.sort(() => Math.random() - 0.5).forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'opt-btn';
            btn.innerText = opt;
            btn.onclick = () => {
                if(opt.includes("æ­£ç¢º")) {
                    state.coins += qData.reward;
                    state.currentQ++;
                    document.getElementById('coin-count').innerText = state.coins;
                    alert("âœ¨ ç­”å°äº†ï¼å°å¸«æ·±æ„Ÿæ¬£æ…°ã€‚");
                    loadQuestion();
                } else {
                    alert("âŒ æ€è€ƒæœ‰èª¤ï¼Œå†è©¦ä¸€æ¬¡ã€‚");
                }
            };
            optBox.appendChild(btn);
        });
        state.timer = 180;
    }

    function startTimer() {
        setInterval(() => {
            if(state.timer > 0) {
                state.timer--;
                document.getElementById('timer-text').innerText = `REMAINING: ${state.timer}s`;
                document.getElementById('timer-fill').style.width = `${(state.timer/180)*100}%`;
            } else if(state.isAdmin) {
                document.getElementById('timer-text').innerText = "DEPTH PONDERING...";
                document.getElementById('timer-fill').style.background = "var(--gold)";
            }
        }, 1000);
    }
</script>
</body>
</html>
