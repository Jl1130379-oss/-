<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>æ±Ÿå®¶æ™ºæ…§åŸå¸‚ | å‹•ä½œå¯¦é«”åŒ–</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --blue: #00f2fe; --pink: #ff00de; --gold: #ffd700; --panel: rgba(5, 12, 25, 0.98); }
        body { margin: 0; background: #000; color: #fff; overflow: hidden; font-family: "PingFang TC", sans-serif; }
        
        /* è€å¸«èˆå° */
        .viewport { position: fixed; inset: 30px; background: var(--panel); border-radius: 35px; display: flex; flex-direction: column; padding: 20px; border: 1px solid var(--blue); }
        .stage { display: flex; justify-content: space-around; align-items: center; flex: 1; }
        
        /* é ­åƒæ¡†æ ¸å¿ƒ */
        .avatar-container { position: relative; width: 220px; height: 220px; margin: 0 auto; }
        .avatar-frame {
            width: 100%; height: 100%; border-radius: 50%; border: 4px solid var(--blue);
            background-size: cover; position: relative; overflow: hidden; z-index: 1;
        }

        /* å‹•ä½œå¯¦é«”åŒ–å±¤ (æ¡†å…§å‡ºç¾ç‰©å“) */
        .action-layer {
            position: absolute; inset: 0; z-index: 5; pointer-events: none;
            display: flex; align-items: center; justify-content: center;
            opacity: 0; transition: 0.5s;
        }
        .action-layer.active { opacity: 1; }

        /* ç‰©å“å‹•ç•« */
        .item-tea { width: 60px; filter: drop-shadow(0 0 5px var(--blue)); animation: drinkMove 3s infinite; }
        .item-cake { width: 70px; filter: drop-shadow(0 0 5px var(--gold)); animation: eatMove 0.8s infinite alternate; }
        .item-hand { width: 100px; position: absolute; top: -20px; animation: patMove 1s infinite alternate; }

        @keyframes drinkMove { 0%, 100% { transform: translate(30px, 40px) rotate(0); } 50% { transform: translate(0, -10px) rotate(-20deg); } }
        @keyframes eatMove { from { transform: scale(0.8) translate(-20px, 40px); } to { transform: scale(1) translate(-20px, 30px); } }
        @keyframes patMove { from { transform: translateY(0) rotate(0); } to { transform: translateY(20px) rotate(-10deg); } }

        /* ç‰¹æ•ˆå±¤ */
        .aurora-fx { position: absolute; inset: 0; background: linear-gradient(125deg, transparent, rgba(0,242,254,0.1), transparent); animation: aurora 4s infinite; z-index: 2; }
        @keyframes aurora { 0% {transform:translateX(-100%)} 100% {transform:translateX(100%)} }

        /* é¸æ“‡æ¡†èˆ‡ UI */
        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display: none; justify-content: center; align-items: center; z-index: 1000; }
        .select-card { width: 200px; padding: 20px; border: 1px solid var(--gold); border-radius: 20px; text-align: center; cursor: pointer; margin: 0 20px; transition: 0.3s; }
        .select-card:hover { transform: translateY(-10px); background: rgba(255,255,255,0.05); }
        .btn-box { text-align: center; padding-bottom: 20px; }
        .btn { padding: 12px 30px; border-radius: 20px; border: none; font-weight: bold; cursor: pointer; margin: 0 10px; }
    </style>
</head>
<body onload="startLife()">

<div class="viewport">
    <div style="text-align:right; padding:10px;">
        <span style="color:var(--gold)">ğŸ® æ˜ç‡ˆ: <span id="coin-ui">5000</span></span>
    </div>

    <div class="stage">
        <div class="char-box">
            <div class="avatar-container">
                <div id="ling-fx" class="aurora-fx"></div>
                <div id="ling-avatar" class="avatar-frame" style="background-image:url('https://api.dicebear.com/7.x/avataaars/svg?seed=JiangLing&clothing=blazer&accessories=glasses')"></div>
                <div id="ling-action" class="action-layer">
                    <img id="ling-item" src="" class="">
                </div>
            </div>
            <h3 style="color:var(--blue)">æ±Ÿéˆ´ (ç†ç§‘)</h3>
            <small style="color:var(--gold)">ğŸ‘— æµå‹•æ¥µå…‰è£™</small>
        </div>

        <div class="char-box">
            <div class="avatar-container">
                <div id="yi-avatar" class="avatar-frame" style="background-image:url('https://api.dicebear.com/7.x/avataaars/svg?seed=JiangYi&clothing=shirt'); border-color:var(--pink);"></div>
                <div id="yi-action" class="action-layer">
                    <img id="yi-item" src="" class="">
                </div>
            </div>
            <h3 style="color:var(--pink)">æ±Ÿä¾ (æ–‡ç§‘)</h3>
            <small style="color:var(--gold)">ğŸ‘˜ è½æ«»ç¹½ç´›æ¼¢æœ</small>
        </div>
    </div>

    <div class="btn-box">
        <button class="btn" style="background:var(--blue)" onclick="showSelect('quiz')">é–‹å§‹è¨“ç·´</button>
        <button class="btn" style="background:var(--gold)" onclick="showSelect('act')">äº’å‹•è§£é–</button>
    </div>
</div>

<div id="pop" class="overlay">
    <div id="pop-content" style="display:flex;"></div>
</div>

<script>
    const IMGS = {
        tea: "https://cdn-icons-png.flaticon.com/512/3504/3504827.png",
        cake: "https://cdn-icons-png.flaticon.com/512/3081/3081918.png",
        hand: "https://cdn-icons-png.flaticon.com/512/1602/1602856.png"
    };

    function startLife() {
        // åˆå§‹ç‹€æ…‹ï¼šæ±Ÿéˆ´å–èŒ¶ï¼Œæ±Ÿä¾åƒé¤…
        playAct('ling', 'tea', 'item-tea');
        playAct('yi', 'cake', 'item-cake');
    }

    function playAct(teacher, type, className) {
        const layer = document.getElementById(`${teacher}-action`);
        const img = document.getElementById(`${teacher}-item`);
        img.src = IMGS[type];
        img.className = className;
        layer.classList.add('active');
    }

    function showSelect(mode) {
        const pop = document.getElementById('pop');
        const content = document.getElementById('pop-content');
        pop.style.display = 'flex';
        
        if(mode === 'quiz') {
            content.innerHTML = `
                <div class="select-card" onclick="alert('ç†ç§‘é¡Œç›®è¼‰å…¥...')">ç†ç§‘è¨“ç·´ (æ±Ÿéˆ´)</div>
                <div class="select-card" onclick="alert('æ–‡ç§‘é¡Œç›®è¼‰å…¥...')">æ–‡ç§‘è¨“ç·´ (æ±Ÿä¾)</div>
            `;
        } else {
            content.innerHTML = `
                <div class="select-card" onclick="unlock('ling')">è§£é–ï¼šæ±Ÿéˆ´æ‘¸é ­<br>(å‡ºç¾é¼“å‹µä¹‹æ‰‹)</div>
                <div class="select-card" onclick="unlock('yi')">è§£é–ï¼šæ±Ÿä¾é¤µé£Ÿ<br>(ç‡’é¤…éå‘è¢å¹•)</div>
            `;
        }
    }

    function unlock(t) {
        document.getElementById('pop').style.display = 'none';
        if(t === 'ling') {
            // æš«æ™‚åˆ‡æ›å‹•ä½œç‚ºæ‘¸é ­
            playAct('ling', 'hand', 'item-hand');
            setTimeout(()=>playAct('ling', 'tea', 'item-tea'), 5000);
        } else {
            // å¼·åŒ–é¤µé£Ÿå‹•ä½œ
            playAct('yi', 'cake', 'item-cake'); // é€™è£¡å¯ä»¥æ›æˆæ›´é è¿‘è¢å¹•çš„å‹•ç•«
            alert("æ±Ÿä¾è€å¸«æŠŠç‡’é¤…éåˆ°äº†å¦³å˜´é‚Šï¼");
        }
    }
</script>
</body>
</html>
