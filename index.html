<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ±Ÿå®¶æ™ºæ…§åŸå¸‚ï¼šå°å¸«æ•™å®¤ç³»çµ±</title>
    <style>
        :root { 
            --sci: #22d3ee; --art: #fb7185; --gold: #facc15; 
            --snow: #f0f9ff; --bg: #020617; --glass: rgba(255, 255, 255, 0.08);
        }
        * { box-sizing: border-box; font-family: "PingFang TC", "Microsoft JhengHei", sans-serif; }
        body { margin: 0; background: var(--bg); color: white; height: 100vh; overflow: hidden; }

        /* å‹•æ…‹èƒŒæ™¯å±¤ */
        #bg-layer { 
            position: fixed; inset: 0; z-index: -1; opacity: 0.4; 
            background-size: cover; background-position: center; transition: 1.5s cubic-bezier(0.4, 0, 0.2, 1); 
        }
        .bg-sci { background-image: url('https://images.unsplash.com/photo-1576086213369-97a306d36557?q=80&w=2000'); }
        .bg-art { background-image: url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?q=80&w=2000'); }

        /* é ‚éƒ¨å°èˆª */
        header { 
            position: fixed; top: 0; width: 100%; padding: 25px 40px; 
            display: flex; justify-content: space-between; align-items: center; z-index: 100;
            background: linear-gradient(to bottom, rgba(2,6,23,0.8), transparent);
        }
        .menu-btn { 
            font-size: 1.1rem; cursor: pointer; color: var(--snow); font-weight: bold;
            padding: 10px 20px; background: var(--glass); border-radius: 15px;
            backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1);
        }
        .menu-btn:hover { background: rgba(255,255,255,0.2); transform: translateY(-2px); }

        /* ä¸»èˆå° */
        .stage { 
            height: 100vh; display: flex; flex-direction: column; 
            align-items: center; justify-content: center; position: relative;
        }

        /* å°å¸«ç«‹ç¹ªèˆ‡å°è©± */
        .teacher-container { position: relative; cursor: pointer; transition: 0.5s; }
        .teacher-img { 
            height: 520px; filter: drop-shadow(0 0 30px rgba(34,211,238,0.2));
            transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .teacher-container:hover .teacher-img { transform: scale(1.03); filter: drop-shadow(0 0 40px rgba(34,211,238,0.4)); }

        .bubble { 
            position: absolute; top: 10%; right: -180px; background: white; 
            color: #1e293b; padding: 18px 25px; border-radius: 25px; 
            width: 240px; font-weight: 900; box-shadow: 0 15px 45px rgba(0,0,0,0.4);
            opacity: 0; transform: translateX(-20px); pointer-events: none; transition: 0.4s;
            z-index: 50; line-height: 1.5;
        }
        .bubble.active { opacity: 1; transform: translateX(0); }
        .bubble::after {
            content: ''; position: absolute; left: -10px; top: 20px;
            border-top: 10px solid transparent; border-bottom: 10px solid transparent;
            border-right: 15px solid white;
        }

        /* ä¸‹æ–¹è³‡è¨Šèˆ‡æŒ‰éˆ• */
        .info-panel { 
            margin-top: -20px; text-align: center; z-index: 10;
            background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(15px);
            padding: 25px 40px; border-radius: 30px; border: 1px solid rgba(255,255,255,0.1);
        }
        .btn-main {
            background: var(--sci); color: #020617; border: none;
            padding: 15px 45px; border-radius: 50px; font-size: 1.1rem;
            font-weight: 900; cursor: pointer; box-shadow: 0 0 25px var(--sci);
            margin-top: 15px; transition: 0.3s;
        }
        .btn-main:hover { transform: scale(1.05); box-shadow: 0 0 40px var(--sci); }

        /* ç­”é¡Œå½ˆçª—ï¼ˆé‚„åŸå¦³æä¾›çš„è¦–è¦ºï¼‰ */
        .quiz-modal { 
            position: fixed; top: 55%; left: 50%; transform: translate(-50%, -50%);
            background: white; color: #1e293b; padding: 40px; border-radius: 35px;
            width: 90%; max-width: 480px; display: none; z-index: 1000;
            box-shadow: 0 30px 100px rgba(0,0,0,0.8);
        }
        .quiz-modal h3 { margin: 0 0 20px 0; font-size: 1.3rem; color: #0f172a; }
        .opt-btn { 
            width: 100%; padding: 16px; margin: 10px 0; border: 2px solid #f1f5f9;
            border-radius: 18px; font-weight: bold; cursor: pointer;
            text-align: left; font-size: 1rem; color: #2563eb; transition: 0.2s;
        }
        .opt-btn:hover { border-color: var(--sci); background: #f0f9ff; }

        /* å·¨å¤§é›ªèŠ±ç®¡ç†è€…ç‰¹æ¬Š â„ï¸ */
        .admin-snow { 
            position: fixed; bottom: 40px; right: 40px; font-size: 65px; 
            cursor: pointer; z-index: 2000; opacity: 0.7;
            filter: drop-shadow(0 0 20px var(--sci));
            animation: snowFloat 3s infinite ease-in-out;
        }
        @keyframes snowFloat {
            0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
            50% { transform: translateY(-15px) rotate(15deg) scale(1.15); opacity: 1; }
        }

        /* ç›®éŒ„é¸å–® */
        .overlay {
            position: fixed; inset: 0; background: rgba(2, 6, 23, 0.95);
            display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 3000;
        }
        .menu-card { background: var(--glass); padding: 50px; border-radius: 40px; border: 1px solid var(--sci); text-align: center; }
        .teacher-select-btn {
            display: block; width: 280px; padding: 18px; margin: 15px;
            border-radius: 20px; border: none; font-size: 1.1rem; font-weight: bold; cursor: pointer;
        }
    </style>
</head>
<body>

<div id="bg-layer" class="bg-sci"></div>

<header>
    <div class="menu-btn" onclick="toggleMenu(true)">â˜° ç›®éŒ„åˆ‡æ›</div>
    <div style="text-align: right;">
        <div style="font-size: 0.8rem; color: var(--sci); font-weight: bold; letter-spacing: 1px;">æ±Ÿå®¶æ™ºæ…§åŸå¸‚è²¡å¯Œ</div>
        <div style="font-size: 1.4rem; font-weight: 900;">ğŸª™ <span id="coin-val">500</span></div>
    </div>
</header>

<div class="stage">
    <div class="teacher-container" onclick="triggerChat()">
        <div id="bubble" class="bubble"></div>
        <img id="teacher-img" class="teacher-img" src="IMG_3812.jpeg">
    </div>

    <div id="intro-panel" class="info-panel">
        <h2 id="teacher-name" style="margin: 0; color: var(--sci);">æ±Ÿéˆ´ å°å¸«</h2>
        <p id="intro-desc" style="color: #cbd5e1; font-size: 0.95rem; margin: 10px 0 20px 0; max-width: 320px;">
            æ­¡è¿å›åˆ°ç†ç§‘é†«å­¸ç³»çµ±ã€‚ä»Šæ—¥æˆ‘å€‘å°‡é‡å°äººé«”é‚è¼¯é€²è¡Œæ·±åº¦ç ”æã€‚
        </p>
        <button class="btn-main" onclick="openClass()">é–‹å§‹æˆèª²</button>
    </div>
</div>

<div id="quiz-modal" class="quiz-modal">
    <div style="font-size: 0.75rem; color: var(--sci); font-weight: 900; margin-bottom: 5px; text-transform: uppercase;">Medical Analysis System</div>
    <h3 id="q-text">é¡Œç›®åŠ è¼‰ä¸­...</h3>
    <div id="q-options"></div>
</div>

<div class="admin-snow" onclick="activateAdmin()">â„ï¸</div>

<div id="menu-overlay" class="overlay">
    <div class="menu-card">
        <h2 style="color: var(--snow); margin-bottom: 30px;">é¸æ“‡æ‚¨çš„ç ”ç©¶å°å¸«</h2>
        <button class="teacher-select-btn" style="background: var(--sci); color: #020617;" onclick="switchTeacher('sci')">æ±Ÿéˆ´ï¼šé†«å­¸ç†ç§‘ç³»çµ±</button>
        <button class="teacher-select-btn" style="background: var(--art); color: white;" onclick="switchTeacher('art')">æ±Ÿä¾ï¼šæ–‡å­¸è—è¡“ç³»çµ±</button>
        <button class="teacher-select-btn" style="background: transparent; border: 1px solid #475569; color: #94a3b8; font-size: 0.9rem;" onclick="toggleMenu(false)">è¿”å›ç•¶å‰æ•™å®¤</button>
    </div>
</div>

<script>
    let state = {
        teacher: 'sci',
        coins: 500,
        isAdmin: false,
        inClass: false
    };

    const teacherData = {
        sci: {
            name: "æ±Ÿéˆ´ å°å¸«",
            intro: "é†«å­¸æ˜¯é‚è¼¯èˆ‡ç”Ÿå‘½çš„äº¤éŸ¿ã€‚ä»Šæ—¥çš„èª²é¡Œå°‡è€ƒé©—å¦³çš„ç´°ç¯€è§€å¯ŸåŠ›ã€‚",
            img: "IMG_3812.jpeg",
            bg: "bg-sci",
            chats: ["é€™å¥—é†«å­¸é•·è£™æ˜¯ç”±æŠ—èŒçº–ç¶­è£½æˆçš„ã€‚", "å¦³ä»Šå¤©çœ‹èµ·ä¾†éå¸¸æœ‰å­¸è¡“å¤©ä»½ã€‚", "è¨˜å¾—ï¼Œé†«å­¸å®¹ä¸ä¸‹ä»»ä½•ä¸€å€‹éŒ¯èª¤ã€‚"],
            questions: [
                { q: "é—œæ–¼è¡€ç®¡çš„æ”¶ç¸®èˆ‡èˆ’å¼µï¼Œä¸»è¦å—å“ªå€‹ç³»çµ±èª¿æ§ï¼Ÿ", opts: ["è‡ªä¸»ç¥ç¶“ç³»çµ± (æ­£è§£)", "æ¶ˆåŒ–ç³»çµ±", "éª¨éª¼ç³»çµ±"], reward: 150 }
            ]
        },
        art: {
            name: "æ±Ÿä¾ å°å¸«",
            intro: "æ–‡å­¸èƒ½è®“äººçœ‹è¦‹éˆé­‚çš„åšåº¦ã€‚è®“æˆ‘å€‘åœ¨è©©å¥ä¸­å°‹æ‰¾å¯§éœã€‚",
            img: "IMG_4392.jpg",
            bg: "bg-art",
            chats: ["é€™ä»¶æ«»è‰²æ¼¢æœæ˜¯ç‚ºäº†ä»Šæ—¥çš„èª²ç¨‹æŒ‘é¸çš„ã€‚", "è—è¡“ä¸æ˜¯èª²æœ¬ï¼Œæ˜¯å¦³å°ç”Ÿæ´»çš„é«”æœƒã€‚", "å¦³çš„æ–‡å­—è£¡è—è‘—æº«æŸ”çš„åŠ›é‡ã€‚"],
            questions: [
                { q: "ã€Œæ¡èŠæ±ç±¬ä¸‹ï¼Œæ‚ ç„¶è¦‹å—å±±ã€é«”ç¾äº†å“ªç¨®è™•ä¸–æ…‹åº¦ï¼Ÿ", opts: ["æ·¡æ³Šååˆ© (æ­£è§£)", "ç©æ¥µå…¥ä¸–", "æ†‚åœ‹æ†‚æ°‘"], reward: 150 }
            ]
        }
    };

    function triggerChat() {
        if(state.inClass) return;
        const b = document.getElementById('bubble');
        const pool = teacherData[state.teacher].chats;
        b.innerText = pool[Math.floor(Math.random() * pool.length)];
        b.classList.add('active');
        setTimeout(() => b.classList.remove('active'), 3500);
    }

    function toggleMenu(show) {
        if(state.inClass) return alert("èª²ç¨‹é€²è¡Œä¸­ï¼Œåš´ç¦æ“…é›¢è·å®ˆã€‚");
        document.getElementById('menu-overlay').style.display = show ? 'flex' : 'none';
    }

    function switchTeacher(t) {
        state.teacher = t;
        const d = teacherData[t];
        document.getElementById('teacher-name').innerText = d.name;
        document.getElementById('intro-desc').innerText = d.intro;
        document.getElementById('teacher-img').src = d.img;
        document.getElementById('bg-layer').className = d.bg;
        toggleMenu(false);
    }

    function openClass() {
        state.inClass = true;
        document.getElementById('quiz-modal').style.display = 'block';
        loadQuiz();
    }

    function loadQuiz() {
        const d = teacherData[state.teacher].questions[0];
        document.getElementById('q-text').innerText = d.q;
        const box = document.getElementById('q-options');
        box.innerHTML = "";
        
        d.opts.sort(() => Math.random() - 0.5).forEach(o => {
            const btn = document.createElement('button');
            btn.className = 'opt-btn';
            btn.innerText = o;
            btn.onclick = () => {
                if(o.includes("æ­£è§£")) {
                    state.coins += d.reward;
                    updateUI();
                    alert("âœ¨ å°å¸«è®šè¨±ï¼šè¦‹è§£ç¨åˆ°ï¼Œéå¸¸å„ªç§€ï¼");
                    state.inClass = false;
                    document.getElementById('quiz-modal').style.display = 'none';
                } else {
                    alert("âŒ å°å¸«æé†’ï¼šå†ä»”ç´°æ€è€ƒä¸€ä¸‹ã€‚");
                }
            };
            box.appendChild(btn);
        });
    }

    function activateAdmin() {
        if(prompt("â„ï¸ ç®¡ç†è€…æˆæ¬Šç¢¼ï¼š") === "æ±Ÿæ†¶å©·") {
            state.isAdmin = true;
            state.coins = 99999;
            updateUI();
            document.querySelector('.admin-snow').style.filter = "drop-shadow(0 0 35px var(--gold))";
            alert("ğŸ‘‘ æ­¡è¿ç®¡ç†è€…æ±Ÿæ†¶å©·ï¼é›ªèŠ±ç‰¹æ¬Šå·²å…¨æ•¸è§£é–ï¼Œå¦³ç¾åœ¨å¯ä»¥è‡ªç”±èª¿åº¦æ‰€æœ‰è³‡æºã€‚");
        }
    }

    function updateUI() {
        document.getElementById('coin-val').innerText = (state.isAdmin ? "â„ï¸ " : "") + state.coins;
    }
</script>
</body>
</html>
