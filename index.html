<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ±Ÿå®¶æ™ºæ…§åŸå¸‚ï¼šæ²‰æµ¸äº’å‹•æ•™å®¤</title>
    <style>
        :root { --sci: #22d3ee; --art: #fb7185; --gold: #facc15; --bg: #020617; }
        * { box-sizing: border-box; font-family: "PingFang TC", sans-serif; transition: 0.6s; }
        body { margin: 0; background: var(--bg); color: white; height: 100vh; overflow: hidden; }

        /* å‹•æ…‹èƒŒæ™¯ */
        #bg-layer { position: fixed; inset: 0; z-index: -1; opacity: 0.4; background-size: cover; background-position: center; transition: 1s; }
        .bg-sci { background-image: url('https://images.unsplash.com/photo-1576086213369-97a306d36557?q=80&w=2000'); }
        .bg-art { background-image: url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?q=80&w=2000'); }

        /* ä»‹é¢ä½ˆå±€ */
        header { position: fixed; top: 0; width: 100%; padding: 20px; display: flex; justify-content: space-between; align-items: center; z-index: 100; }
        .menu-icon { font-size: 24px; cursor: pointer; background: rgba(255,255,255,0.1); padding: 10px; border-radius: 50%; }

        .container { height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; }
        
        /* è€å¸«ç«‹ç¹ªèˆ‡å°è©± */
        .teacher-stage { position: relative; cursor: pointer; transition: 0.3s; }
        .teacher-stage:hover { transform: scale(1.02); }
        .teacher-img { height: 450px; filter: drop-shadow(0 0 20px rgba(255,255,255,0.2)); }
        
        .dialog-bubble { 
            background: white; color: #1e293b; padding: 15px 25px; border-radius: 20px; 
            max-width: 300px; font-weight: bold; position: absolute; top: -20px; right: -150px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3); opacity: 0; transform: translateY(10px);
            pointer-events: none; transition: 0.4s;
        }
        .dialog-bubble.show { opacity: 1; transform: translateY(0); }

        /* ç­”é¡Œé¢æ¿ */
        .quiz-panel { 
            background: white; color: #1e293b; padding: 25px; border-radius: 25px; 
            width: 380px; margin-top: 20px; display: none; box-shadow: 0 15px 40px rgba(0,0,0,0.5); 
        }

        /* ç›®éŒ„å½ˆçª— */
        #menu-overlay { 
            position: fixed; inset: 0; background: rgba(0,0,0,0.8); display: none; 
            justify-content: center; align-items: center; z-index: 200; 
        }
        .menu-card { background: #1e293b; padding: 30px; border-radius: 25px; text-align: center; border: 1px solid var(--sci); }

        .btn { padding: 12px 30px; border-radius: 25px; border: none; font-weight: bold; cursor: pointer; margin: 10px; }
        .btn-sci { background: var(--sci); color: #020617; }
        .btn-art { background: var(--art); color: white; }

        .snow-btn { position: fixed; bottom: 20px; right: 20px; font-size: 30px; cursor: pointer; opacity: 0.5; }
    </style>
</head>
<body>

<div id="bg-layer" class="bg-sci"></div>

<header>
    <div class="menu-icon" onclick="toggleMenu()">â˜°</div>
    <div style="font-weight: bold;">ğŸª™ <span id="coin-val">500</span></div>
</header>

<div class="container">
    <div class="teacher-stage" onclick="teacherTalk()">
        <img id="teacher-img" class="teacher-img" src="IMG_3812.jpeg">
        <div id="bubble" class="dialog-bubble"></div>
    </div>

    <div id="intro-box" style="margin-top: 20px; text-align: center;">
        <div id="intro-text" style="background: rgba(0,0,0,0.6); padding: 15px; border-radius: 15px; margin-bottom: 15px;">
            æ±Ÿéˆ´å°å¸«ï¼šæº–å‚™å¥½é€²å…¥é†«å­¸çš„ä¸–ç•Œäº†å—ï¼Ÿ
        </div>
        <button class="btn btn-sci" onclick="startClass()">é–‹å§‹æˆèª²</button>
    </div>

    <div id="quiz-panel" class="quiz-panel">
        <div id="q-text" style="font-weight:bold; margin-bottom:15px;"></div>
        <div id="q-options"></div>
    </div>
</div>

<div id="menu-overlay" onclick="toggleMenu()">
    <div class="menu-card" onclick="event.stopPropagation()">
        <h3>åˆ‡æ›æˆèª²å°å¸«</h3>
        <button class="btn btn-sci" onclick="switchTeacher('sci')">æ±Ÿéˆ´ (é†«å­¸ç†ç§‘)</button>
        <button class="btn btn-art" onclick="switchTeacher('art')">æ±Ÿä¾ (æ–‡å­¸è—è¡“)</button>
        <p style="font-size: 0.7rem; color: #94a3b8; margin-top: 15px;">* èª²ç¨‹é€²è¡Œä¸­ç„¡æ³•åˆ‡æ›</p>
    </div>
</div>

<div class="snow-btn" onclick="adminMode()">â„ï¸</div>

<script>
    let state = {
        teacher: 'sci', // sci or art
        mode: 'idle', // idle, intro, class
        coins: 500,
        isAdmin: false
    };

    const data = {
        sci: {
            name: "æ±Ÿéˆ´",
            img: "IMG_3812.jpeg",
            bg: "bg-sci",
            intro: "æº–å‚™å¥½é€²å…¥é†«å­¸çš„ä¸–ç•Œäº†å—ï¼Ÿæˆ‘å€‘æœƒæ¢è¨äººé«”çš„å¥§ç§˜èˆ‡é‚è¼¯ã€‚",
            chat: ["é€™å¥—å¯¦é©—è¢ç©¿èµ·ä¾†å¾ˆå°ˆæ¥­å§ï¼Ÿ", "å¦³ä»Šå¤©çš„çœ¼ç¥å¾ˆå°ˆæ³¨ï¼Œé©åˆå­¸ç¿’ã€‚", "è¨˜å¾—éš¨æ™‚è£œå……æ°´åˆ†ï¼Œå¥åº·æ˜¯å­¸ç¿’çš„åŸºçŸ³ã€‚"],
            q: "å¿ƒè‡Ÿç“£è†œçš„ä¸»è¦åŠŸèƒ½æ˜¯ï¼Ÿ",
            opts: ["é˜²æ­¢è¡€æ¶²å€’æµ (æ­£è§£)", "è£½é€ ç´…è¡€çƒ", "å„²å­˜æ°§æ°£"]
        },
        art: {
            name: "æ±Ÿä¾",
            img: "IMG_4392.jpg",
            bg: "bg-art",
            intro: "è©©æ­Œèˆ‡è—è¡“èƒ½ç™‚ç™’å¿ƒéˆã€‚ä»Šå¤©ï¼Œæˆ‘å€‘ä¾†èŠèŠæ–‡å­—èƒŒå¾Œçš„æº«åº¦ã€‚",
            chat: ["é€™ä»¶æ«»è‰²æ¼¢æœå¾ˆé©åˆåˆå¾Œçš„é–±è®€ã€‚", "å¦³å–œæ­¡é€™å¥è©©å—ï¼Ÿå®ƒå¯«å‡ºäº†æ˜¥å¤©çš„éˆé­‚ã€‚", "è—è¡“æ²’æœ‰æ¨™æº–ç­”æ¡ˆï¼Œåªæœ‰å¿ƒéˆçš„å…±é³´ã€‚"],
            q: "ã€Šç´…æ¨“å¤¢ã€‹çš„ä½œè€…é€šå¸¸è¢«å…¬èªç‚ºï¼Ÿ",
            opts: ["æ›¹é›ªèŠ¹ (æ­£è§£)", "ç¾…è²«ä¸­", "æ–½è€åºµ"]
        }
    };

    function switchTeacher(t) {
        if(state.mode === 'class') return alert("èª²ç¨‹æ­£åœ¨é€²è¡Œä¸­ï¼Œè«‹å®Œæˆå¾Œå†ä¸‹èª²åˆ‡æ›ã€‚");
        state.teacher = t;
        const info = data[t];
        document.getElementById('teacher-img').src = info.img;
        document.getElementById('bg-layer').className = info.bg;
        document.getElementById('intro-text').innerText = `${info.name}å°å¸«ï¼š${info.intro}`;
        toggleMenu();
    }

    function toggleMenu() {
        const m = document.getElementById('menu-overlay');
        m.style.display = m.style.display === 'flex' ? 'none' : 'flex';
    }

    function startClass() {
        state.mode = 'class';
        document.getElementById('intro-box').style.display = 'none';
        document.getElementById('quiz-panel').style.display = 'block';
        loadQuiz();
    }

    function loadQuiz() {
        const info = data[state.teacher];
        document.getElementById('q-text').innerText = info.q;
        const box = document.getElementById('q-options');
        box.innerHTML = "";
        info.opts.sort().forEach(o => {
            const btn = document.createElement('button');
            btn.style.width = "100%"; btn.style.margin = "5px 0"; btn.style.padding = "10px";
            btn.innerText = o;
            btn.onclick = () => {
                if(o.includes("æ­£è§£")) {
                    state.coins += 100;
                    document.getElementById('coin-val').innerText = state.coins;
                    alert("âœ¨ å°å¸«è®šè¨±ï¼šè¦‹è§£æ­£ç¢ºï¼");
                    state.mode = 'idle'; // å›åˆ°ä¸‹èª²æ¨¡å¼
                    document.getElementById('quiz-panel').style.display = 'none';
                    document.getElementById('intro-box').style.display = 'block';
                }
            };
            box.appendChild(btn);
        });
    }

    function teacherTalk() {
        if(state.mode === 'class') return; // ä¸Šèª²ä¸­ä¸é€²è¡Œéš¨æ€§å°è©±
        const bubble = document.getElementById('bubble');
        const chats = data[state.teacher].chat;
        bubble.innerText = chats[Math.floor(Math.random() * chats.length)];
        bubble.classList.add('show');
        setTimeout(() => bubble.classList.remove('show'), 3000);
    }

    function adminMode() {
        if(prompt("æˆæ¬Šç¢¼ï¼š") === "æ±Ÿæ†¶å©·") {
            state.isAdmin = true;
            document.getElementById('coin-val').innerText = "â„ï¸ 99999";
            alert("ğŸ‘‘ æ­¡è¿ç®¡ç†è€…æ±Ÿæ†¶å©·ã€‚");
        }
    }
</script>
</body>
</html>
